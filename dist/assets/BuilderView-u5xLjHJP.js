import{j as be,h as _,k as w,u as U,f as ie,l as xe,d as $,c as m,F as y,i as T,m as d,o as c,b as e,p as R,t as x,q as C,a as f,T as K,w as z,e as I,s as ge,v as he,x as ye,n as B,y as ke,z as X,A as O,B as _e,r as $e,C as j}from"./index-BrNjzx5q.js";import{a as se,_ as we}from"./_plugin-vue_export-helper-N-EWGBi7.js";const Q=[{id:1,label:"Shablon",description:"Shablon tanlang"},{id:2,label:"Shaxsiy",description:"Shaxsiy ma'lumotlar"},{id:3,label:"Tajriba",description:"Ish tajribasi"},{id:4,label:"Ta'lim",description:"Ta'lim"},{id:5,label:"Ko'nikmalar",description:"Ko'nikmalar & Tillar"}],Te=["Ona tili","C2","C1","B2","B1","A2","A1"];function Z(a,l){const o=[];return a===2&&(l.personal.firstName.trim()||o.push({field:"firstName",message:"Ism kiritilishi shart"}),l.personal.lastName.trim()||o.push({field:"lastName",message:"Familiya kiritilishi shart"}),l.personal.jobTitle.trim()||o.push({field:"jobTitle",message:"Kasb kiritilishi shart"}),l.personal.email.trim()||o.push({field:"email",message:"Email kiritilishi shart"})),a===3&&(l.experience.length===0?o.push({field:"experience",message:"Kamida bitta ish tajribasini qo'shing"}):(l.experience[0].jobTitle.trim()||o.push({field:"exp-0-jobTitle",message:"Lavozim kiritilishi shart"}),l.experience[0].company.trim()||o.push({field:"exp-0-company",message:"Kompaniya kiritilishi shart"}))),a===4&&(l.education.length===0?o.push({field:"education",message:"Kamida bitta ta'lim ma'lumotini qo'shing"}):l.education[0].institution.trim()||o.push({field:"edu-0-institution",message:"O'quv yurti kiritilishi shart"})),o}function V(){return Math.random().toString(36).slice(2,9)}function ee(){return{personal:{firstName:"",lastName:"",jobTitle:"",email:"",phone:"",city:"",dateOfBirth:"",website:"",linkedin:"",github:"",bio:"",photoUrl:null},experience:[],education:[],skills:[],languages:[]}}function Ce(){return{id:V(),jobTitle:"",company:"",location:"",startDate:"",endDate:"",isCurrent:!1,description:""}}function Ee(){return{id:V(),institution:"",degree:"",years:"",notes:""}}function De(){return{id:V(),name:"",level:"B2"}}function te(a){if(!a)return"";const l=new Date(a+"T00:00:00");return`${["Yan","Fev","Mar","Apr","May","Iyn","Iyl","Avg","Sen","Okt","Noy","Dek"][l.getMonth()]} ${l.getFullYear()}`}const A=be("cv",()=>{const a=_(ee()),l=_("modern"),o=_(1),i=_(1),u=_(!1),s=w(()=>`${a.value.personal.firstName} ${a.value.personal.lastName}`.trim()),n=w(()=>{const g=a.value.personal.firstName[0]||"",h=a.value.personal.lastName[0]||"";return(g+h).toUpperCase()||"CV"}),t=w(()=>Z(o.value,a.value)),v=w(()=>t.value.length===0);function p(){u.value=!0,a.value.experience.length===0&&W(),a.value.education.length===0&&J(),a.value.languages.length===0&&Y()}function r(){u.value=!1}function b(g){l.value=g}function E(){return Z(o.value,a.value).length?!1:(o.value<5&&(o.value=o.value+1,o.value>i.value&&(i.value=o.value)),!0)}function G(){o.value>1&&(o.value=o.value-1)}function ne(g){g<=i.value&&(o.value=g)}function ae(g,h){a.value.personal[g]=h}function W(){a.value.experience.push(Ce())}function oe(g){a.value.experience=a.value.experience.filter(h=>h.id!==g)}function re(g,h,S){const D=a.value.experience.find(q=>q.id===g);D&&(D[h]=S)}function J(){a.value.education.push(Ee())}function de(g){a.value.education=a.value.education.filter(h=>h.id!==g)}function ue(g,h,S){const D=a.value.education.find(q=>q.id===g);D&&(D[h]=S)}function pe(g){const h=g.trim();h&&!a.value.skills.includes(h)&&a.value.skills.push(h)}function ce(g){a.value.skills.splice(g,1)}function Y(){a.value.languages.push(De())}function ve(g){a.value.languages=a.value.languages.filter(h=>h.id!==g)}function me(g,h,S){const D=a.value.languages.find(q=>q.id===g);D&&(D[h]=S)}function fe(){a.value=ee(),l.value="modern",o.value=1,i.value=1}return{data:a,template:l,step:o,maxStep:i,open:u,fullName:s,initials:n,stepErrors:t,isValid:v,openBuilder:p,closeBuilder:r,setTemplate:b,next:E,prev:G,goTo:ne,setPersonal:ae,addExp:W,rmExp:oe,setExp:re,addEdu:J,rmEdu:de,setEdu:ue,addSkill:pe,rmSkill:ce,addLang:Y,rmLang:ve,setLang:me,reset:fe}});function Ie(){const a=_(!1),l=U();async function o(i,u="cv.pdf"){const s=window.html2pdf;if(typeof s!="function"){l.error("PDF kutubxonasi yuklanmadi. Internet aloqasini tekshiring.");return}const n=document.getElementById(i);if(!n){l.error("Element topilmadi");return}a.value=!0,l.info("PDF tayyorlanmoqda...");const t=n.cloneNode(!0);t.style.cssText='transform:none!important;width:794px;min-height:auto;box-shadow:none;position:fixed;left:-9999px;top:0;font-family:"Plus Jakarta Sans",sans-serif;',document.body.appendChild(t);try{await s().set({margin:0,filename:u,image:{type:"jpeg",quality:.98},html2canvas:{scale:2,useCORS:!0,letterRendering:!0},jsPDF:{unit:"mm",format:"a4",orientation:"portrait"},pagebreak:{mode:["avoid-all","css","legacy"]}}).from(t).save(),l.success("PDF muvaffaqiyatli yuklandi âœ“")}catch(v){console.error(v),l.error("PDF yaratishda xatolik yuz berdi")}finally{t.parentNode?.removeChild(t),a.value=!1}}return{exporting:a,exportPdf:o}}function ze(a={min:300,max:660,initial:440}){const l=_(a.initial),o=_(!1);let i=0,u=0;function s(v){o.value=!0,i=v.clientX,u=l.value,document.body.style.cursor="col-resize",document.body.style.userSelect="none"}function n(v){o.value&&(l.value=Math.max(a.min,Math.min(a.max,u+v.clientX-i)))}function t(){o.value&&(o.value=!1,document.body.style.cursor="",document.body.style.userSelect="")}return ie(()=>{document.addEventListener("mousemove",n),document.addEventListener("mouseup",t)}),xe(()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)}),{width:l,dragging:o,onDown:s}}const Be={class:"flex items-center flex-1 min-w-0"},Ae=["disabled","onClick"],Se={class:"hidden sm:inline"},qe={key:0,class:"flex-1 h-px bg-gray-200 mx-0.5 min-w-[4px]"},je=$({__name:"StepProgress",props:{current:{},maxReached:{}},emits:["goto"],setup(a,{emit:l}){const o=a,i=l,u=s=>s<o.current;return(s,n)=>(c(),m("div",Be,[(c(!0),m(y,null,T(d(Q),(t,v)=>(c(),m(y,{key:t.id},[e("button",{class:R(["flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11.5px] font-semibold transition-all duration-300 whitespace-nowrap shrink-0 cursor-default",{"bg-blue-light text-blue-brand cursor-pointer":a.current===t.id,"text-emerald-500":u(t.id),"text-gray-400":!u(t.id)&&a.current!==t.id}]),disabled:t.id>a.maxReached,onClick:p=>t.id<=a.maxReached&&i("goto",t.id)},[e("span",{class:R(["w-[18px] h-[18px] rounded-full flex items-center justify-center text-[10px] font-bold transition-all duration-300 shrink-0",{"bg-blue-brand text-white":a.current===t.id,"bg-emerald-500 text-white":u(t.id),"bg-gray-200 text-gray-400":!u(t.id)&&a.current!==t.id}])},x(u(t.id)?"âœ“":t.id),3),e("span",Se,x(t.label),1)],10,Ae),v<d(Q).length-1?(c(),m("div",qe)):C("",!0)],64))),128))]))}}),Fe={class:"grid grid-cols-2 gap-2.5"},Me=["onClick"],Le={key:0,class:"absolute top-1.5 right-1.5 w-[17px] h-[17px] rounded-full bg-blue-brand text-white flex items-center justify-center text-[9px] font-bold z-10"},Ne=["innerHTML"],Pe={class:"px-2.5 py-1.5 text-[11px] font-bold border-t border-gray-100"},Re=$({__name:"TemplateSelector",props:{selected:{}},emits:["update:selected"],setup(a,{emit:l}){const o=l;function i(s,n="#E2E8F0",t="4px"){return`<div style="height:${t};background:${n};border-radius:2px;margin-bottom:3px;width:${s}"></div>`}const u=[{id:"modern",name:"Modern",preview:`<div style="background:#0A2540;height:100%;display:flex;flex-direction:column">
      <div style="padding:10px">${i("60%","rgba(255,255,255,.85)","7px")}${i("40%","rgba(255,255,255,.3)")}</div>
      <div style="background:#fff;flex:1;padding:8px 10px;display:flex;gap:7px">
        <div style="width:38%;display:flex;flex-direction:column;gap:3px">${i("75%","#1A56DB")}${i("90%")}${i("70%")}${i("65%","#1A56DB")}${i("80%")}</div>
        <div style="flex:1;display:flex;flex-direction:column;gap:3px">${i("50%","#1A56DB")}${i("95%")}${i("80%")}${i("45%","#1A56DB")}${i("88%")}</div>
      </div></div>`},{id:"clean",name:"Clean",preview:`<div style="background:#fff;padding:10px">
      <div style="border-bottom:2px solid #0A2540;padding-bottom:7px;margin-bottom:8px">
        ${i("58%","#0A2540","6px")}${i("38%","#1A56DB","3px")}</div>
      ${i("38%","#1A56DB")}${i("94%")}${i("78%",void 0,"4px")}${i("42%","#1A56DB")}${i("88%")}${i("72%")}
    </div>`},{id:"bold",name:"Bold",preview:`<div style="background:#1A56DB;display:flex;flex-direction:column">
      <div style="padding:10px">${i("65%","rgba(255,255,255,.85)","7px")}${i("42%","rgba(255,255,255,.3)","3px")}</div>
      <div style="background:#fff;flex:1;border-radius:5px 5px 0 0;padding:8px 10px">
        ${i("42%","#1A56DB")}${i("90%")}${i("74%")}${i("47%","#1A56DB")}${i("84%")}${i("62%")}
      </div></div>`},{id:"minimal",name:"Minimal",preview:`<div style="background:#fff;padding:10px">
      <div style="display:flex;align-items:center;gap:7px;border-bottom:1px solid #E2E8F0;padding-bottom:8px;margin-bottom:8px">
        <div style="width:26px;height:26px;border-radius:50%;background:#E8F0FE;flex-shrink:0"></div>
        <div>${i("76px","#0A2540","5px")}${i("48px","#1A56DB","3px")}</div></div>
      ${i("38%","#1A56DB")}${i("93%")}${i("76%")}${i("40%","#1A56DB")}${i("86%")}${i("68%")}
    </div>`}];return(s,n)=>(c(),m("div",null,[n[0]||(n[0]=e("h2",{class:"font-display font-bold text-lg tracking-tight mb-1"},"Shablon tanlang",-1)),n[1]||(n[1]=e("p",{class:"text-xs text-gray-400 mb-5"},"Rezyumengiz uchun ko'rinish tanlang",-1)),e("div",Fe,[(c(),m(y,null,T(u,t=>e("div",{key:t.id,class:R(["relative border-2 rounded-[10px] overflow-hidden cursor-pointer transition-all duration-200 hover:-translate-y-0.5 hover:shadow-[0_7px_20px_rgba(10,37,64,.1)]",a.selected===t.id?"border-blue-brand shadow-[0_0_0_3px_rgba(26,86,219,.12)]":"border-gray-200"]),onClick:v=>o("update:selected",t.id)},[a.selected===t.id?(c(),m("div",Le,"âœ“")):C("",!0),e("div",{class:"h-[140px] overflow-hidden",innerHTML:t.preview},null,8,Ne),e("div",Pe,x(t.name),1)],10,Me)),64))])]))}});function Oe(){const a=_(null),l=_(!1);function o(u){return new Promise((s,n)=>{if(!u.type.startsWith("image/"))return n(new Error("Faqat rasm fayllari qabul qilinadi"));if(u.size>5*1024*1024)return n(new Error("Rasm 5MB dan kichik bo'lishi kerak"));l.value=!0;const t=new FileReader;t.onload=v=>{const p=v.target?.result;a.value=p,l.value=!1,s(p)},t.onerror=()=>{l.value=!1,n(new Error("O'qishda xatolik"))},t.readAsDataURL(u)})}function i(){a.value=null}return{preview:a,loading:l,read:o,clear:i}}const Ue={class:"mb-4"},Ke=["src"],Ve={class:"grid grid-cols-2 gap-2.5 mb-3"},He=["value"],Ge=["value"],We={class:"mb-3"},Je=["value"],Ye={class:"grid grid-cols-2 gap-2.5 mb-3"},Xe=["value"],Qe=["value"],Ze={class:"grid grid-cols-2 gap-2.5 mb-3"},et=["value"],tt=["value"],lt={class:"mb-3"},it=["value"],st={class:"grid grid-cols-2 gap-2.5 mb-3"},nt=["value"],at=["value"],ot=["value"],rt=$({__name:"PersonalForm",setup(a){const l=A(),o=U(),{read:i}=Oe(),u=l.data.personal,s=_(null);function n(p,r){l.setPersonal(p,r.target.value)}function t(p,r){const b=r.target;b.style.height="auto",b.style.height=Math.min(b.scrollHeight,200)+"px",l.setPersonal(p,b.value)}async function v(p){const r=p.target.files?.[0];if(r)try{const b=await i(r);l.setPersonal("photoUrl",b)}catch(b){o.error(b.message)}}return(p,r)=>(c(),m("div",null,[r[26]||(r[26]=e("h2",{class:"font-display font-bold text-lg tracking-tight mb-1"},"Shaxsiy ma'lumotlar",-1)),r[27]||(r[27]=e("p",{class:"text-xs text-gray-400 mb-4"},"Kontakt va bio ma'lumotlar",-1)),e("div",Ue,[r[14]||(r[14]=e("label",{class:"field-label"},"Profil rasmi",-1)),e("div",{class:"border-2 border-dashed border-gray-200 rounded-[10px] p-4 text-center cursor-pointer transition-all duration-200 hover:border-blue-brand hover:bg-blue-light relative",onClick:r[0]||(r[0]=b=>s.value?.click())},[e("input",{ref_key:"fileRef",ref:s,type:"file",accept:"image/*",class:"hidden",onChange:v},null,544),d(l).data.personal.photoUrl?(c(),m("img",{key:0,src:d(l).data.personal.photoUrl,class:"w-14 h-14 rounded-full object-cover mx-auto mb-2 border-2 border-gray-200"},null,8,Ke)):(c(),m(y,{key:1},[r[12]||(r[12]=e("div",{class:"text-3xl mb-1"},"ðŸ–¼ï¸",-1)),r[13]||(r[13]=e("div",{class:"text-[11px] text-gray-400 font-medium"},"Rasm yuklash uchun bosing",-1))],64))])]),e("div",Ve,[e("div",null,[r[15]||(r[15]=e("label",{class:"field-label field-label-req"},"Ism",-1)),e("input",{class:"input-base",type:"text",placeholder:"Ozodbek",value:d(u).firstName,onInput:r[1]||(r[1]=b=>n("firstName",b))},null,40,He)]),e("div",null,[r[16]||(r[16]=e("label",{class:"field-label field-label-req"},"Familiya",-1)),e("input",{class:"input-base",type:"text",placeholder:"Jumaev",value:d(u).lastName,onInput:r[2]||(r[2]=b=>n("lastName",b))},null,40,Ge)])]),e("div",We,[r[17]||(r[17]=e("label",{class:"field-label field-label-req"},"Kasb / Lavozim",-1)),e("input",{class:"input-base",type:"text",placeholder:"Frontend Engineer",value:d(u).jobTitle,onInput:r[3]||(r[3]=b=>n("jobTitle",b))},null,40,Je)]),e("div",Ye,[e("div",null,[r[18]||(r[18]=e("label",{class:"field-label field-label-req"},"Email",-1)),e("input",{class:"input-base",type:"email",placeholder:"email@example.com",value:d(u).email,onInput:r[4]||(r[4]=b=>n("email",b))},null,40,Xe)]),e("div",null,[r[19]||(r[19]=e("label",{class:"field-label"},"Telefon",-1)),e("input",{class:"input-base",type:"tel",placeholder:"+998 90 123 45 67",value:d(u).phone,onInput:r[5]||(r[5]=b=>n("phone",b))},null,40,Qe)])]),e("div",Ze,[e("div",null,[r[20]||(r[20]=e("label",{class:"field-label"},"Shahar",-1)),e("input",{class:"input-base",type:"text",placeholder:"Toshkent",value:d(u).city,onInput:r[6]||(r[6]=b=>n("city",b))},null,40,et)]),e("div",null,[r[21]||(r[21]=e("label",{class:"field-label"},"Tug'ilgan sana",-1)),e("input",{class:"input-base",type:"date",value:d(u).dateOfBirth,onInput:r[7]||(r[7]=b=>n("dateOfBirth",b))},null,40,tt)])]),e("div",lt,[r[22]||(r[22]=e("label",{class:"field-label"},"Veb-sayt",-1)),e("input",{class:"input-base",type:"url",placeholder:"https://yoursite.com",value:d(u).website,onInput:r[8]||(r[8]=b=>n("website",b))},null,40,it)]),e("div",st,[e("div",null,[r[23]||(r[23]=e("label",{class:"field-label"},"LinkedIn",-1)),e("input",{class:"input-base",type:"url",placeholder:"linkedin.com/in/...",value:d(u).linkedin,onInput:r[9]||(r[9]=b=>n("linkedin",b))},null,40,nt)]),e("div",null,[r[24]||(r[24]=e("label",{class:"field-label"},"GitHub",-1)),e("input",{class:"input-base",type:"url",placeholder:"github.com/username",value:d(u).github,onInput:r[10]||(r[10]=b=>n("github",b))},null,40,at)])]),e("div",null,[r[25]||(r[25]=e("label",{class:"field-label"},"Men haqimda (bio)",-1)),e("textarea",{class:"input-base resize-none overflow-hidden",rows:"3",placeholder:"Qisqacha o'zingizni tanishtiring...",value:d(u).bio,onInput:r[11]||(r[11]=b=>t("bio",b))},null,40,ot)])]))}}),dt={},ut={width:"11",height:"11",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"};function pt(a,l){return c(),m("svg",ut,[...l[0]||(l[0]=[e("path",{d:"M12 5v14M5 12h14"},null,-1)])])}const H=se(dt,[["render",pt]]),ct={class:"flex justify-between items-center mb-2.5 text-[12px] font-bold"},vt=["onClick"],mt={class:"grid grid-cols-2 gap-2.5 mb-2.5"},ft=["value","onInput"],bt=["value","onInput"],xt={class:"mb-2.5"},gt=["value","onInput"],ht={class:"grid grid-cols-2 gap-2.5 mb-2"},yt=["value","onInput"],kt=["disabled","value","onInput"],_t={class:"flex items-center gap-2 mb-2.5 cursor-pointer text-[12.5px] font-medium"},$t=["checked","onChange"],wt=["value","onInput"],Tt=$({__name:"ExperienceForm",setup(a){const l=A();function o(s,n,t){l.setExp(s,n,t.target.value)}function i(s,n,t){const v=t.target;v.style.height="auto",v.style.height=Math.min(v.scrollHeight,200)+"px",l.setExp(s,n,v.value)}function u(s,n){const t=n.target.checked;l.setExp(s,"isCurrent",t),t&&l.setExp(s,"endDate","")}return(s,n)=>(c(),m("div",null,[n[9]||(n[9]=e("h2",{class:"font-display font-bold text-lg tracking-tight mb-1"},"Ish tajribasi",-1)),n[10]||(n[10]=e("p",{class:"text-xs text-gray-400 mb-4"},"Eng so'nggi ishlaringizdan boshlang",-1)),f(K,{name:"block"},{default:z(()=>[(c(!0),m(y,null,T(d(l).data.experience,(t,v)=>(c(),m("div",{key:t.id,class:"data-block"},[e("div",ct,[e("span",null,"Ish joyi #"+x(v+1),1),e("button",{class:"text-red-400 hover:text-red-500 text-[11.5px] font-semibold transition-colors",onClick:p=>d(l).rmExp(t.id)},"âœ• O'chirish",8,vt)]),e("div",mt,[e("div",null,[n[1]||(n[1]=e("label",{class:"field-label field-label-req"},"Lavozim",-1)),e("input",{class:"input-base",type:"text",placeholder:"Frontend Developer",value:t.jobTitle,onInput:p=>o(t.id,"jobTitle",p)},null,40,ft)]),e("div",null,[n[2]||(n[2]=e("label",{class:"field-label field-label-req"},"Kompaniya",-1)),e("input",{class:"input-base",type:"text",placeholder:"IT Park",value:t.company,onInput:p=>o(t.id,"company",p)},null,40,bt)])]),e("div",xt,[n[3]||(n[3]=e("label",{class:"field-label"},"Joylashuv",-1)),e("input",{class:"input-base",type:"text",placeholder:"Toshkent",value:t.location,onInput:p=>o(t.id,"location",p)},null,40,gt)]),e("div",ht,[e("div",null,[n[4]||(n[4]=e("label",{class:"field-label"},"Boshlanish",-1)),e("input",{class:"input-base",type:"date",value:t.startDate,onInput:p=>o(t.id,"startDate",p)},null,40,yt)]),e("div",null,[n[5]||(n[5]=e("label",{class:"field-label"},"Tugash",-1)),e("input",{class:"input-base",type:"date",disabled:t.isCurrent,value:t.endDate,onInput:p=>o(t.id,"endDate",p)},null,40,kt)])]),e("label",_t,[e("input",{type:"checkbox",class:"w-3.5 h-3.5 accent-blue-brand cursor-pointer",checked:t.isCurrent,onChange:p=>u(t.id,p)},null,40,$t),n[6]||(n[6]=I(" Hozir shu yerda ishlayman ",-1))]),e("div",null,[n[7]||(n[7]=e("label",{class:"field-label"},"Vazifalar / Yutuqlar",-1)),e("textarea",{class:"input-base resize-none overflow-hidden",rows:"3",placeholder:"Asosiy vazifalar va yutuqlar...",value:t.description,onInput:p=>i(t.id,"description",p)},null,40,wt)])]))),128))]),_:1}),e("button",{class:"add-btn mt-0.5",onClick:n[0]||(n[0]=t=>d(l).addExp())},[f(H),n[8]||(n[8]=I(" Tajriba qo'shish ",-1))])]))}}),Ct={class:"flex justify-between items-center mb-2.5 text-[12px] font-bold"},Et=["onClick"],Dt={class:"mb-2.5"},It=["value","onInput"],zt={class:"grid grid-cols-2 gap-2.5 mb-2.5"},Bt=["value","onInput"],At=["value","onInput"],St=["value","onInput"],qt=$({__name:"EducationForm",setup(a){const l=A();function o(u,s,n){l.setEdu(u,s,n.target.value)}function i(u,s,n){const t=n.target;t.style.height="auto",t.style.height=Math.min(t.scrollHeight,200)+"px",l.setEdu(u,s,t.value)}return(u,s)=>(c(),m("div",null,[s[6]||(s[6]=e("h2",{class:"font-display font-bold text-lg tracking-tight mb-1"},"Ta'lim",-1)),s[7]||(s[7]=e("p",{class:"text-xs text-gray-400 mb-4"},"O'quv yurtlari va sertifikatlar",-1)),f(K,{name:"block"},{default:z(()=>[(c(!0),m(y,null,T(d(l).data.education,(n,t)=>(c(),m("div",{key:n.id,class:"data-block"},[e("div",Ct,[e("span",null,"Ta'lim #"+x(t+1),1),e("button",{class:"text-red-400 hover:text-red-500 text-[11.5px] font-semibold transition-colors",onClick:v=>d(l).rmEdu(n.id)},"âœ• O'chirish",8,Et)]),e("div",Dt,[s[1]||(s[1]=e("label",{class:"field-label field-label-req"},"O'quv yurti",-1)),e("input",{class:"input-base",type:"text",placeholder:"TDTU / Westminster University",value:n.institution,onInput:v=>o(n.id,"institution",v)},null,40,It)]),e("div",zt,[e("div",null,[s[2]||(s[2]=e("label",{class:"field-label"},"Mutaxassislik",-1)),e("input",{class:"input-base",type:"text",placeholder:"Informatika",value:n.degree,onInput:v=>o(n.id,"degree",v)},null,40,Bt)]),e("div",null,[s[3]||(s[3]=e("label",{class:"field-label"},"Yillar",-1)),e("input",{class:"input-base",type:"text",placeholder:"2018 â€” 2022",value:n.years,onInput:v=>o(n.id,"years",v)},null,40,At)])]),e("div",null,[s[4]||(s[4]=e("label",{class:"field-label"},"Qo'shimcha ma'lumotlar",-1)),e("textarea",{class:"input-base resize-none overflow-hidden",rows:"2",placeholder:"GPA, maqtov yorliqlari...",value:n.notes,onInput:v=>i(n.id,"notes",v)},null,40,St)])]))),128))]),_:1}),e("button",{class:"add-btn mt-0.5",onClick:s[0]||(s[0]=n=>d(l).addEdu())},[f(H),s[5]||(s[5]=I(" Ta'lim qo'shish ",-1))])]))}}),jt={class:"mb-5"},Ft={class:"flex gap-2 mb-2.5"},Mt={class:"flex flex-wrap gap-1.5"},Lt=["onClick"],Nt={class:"flex justify-between items-center mb-2.5 text-[12px] font-bold"},Pt=["onClick"],Rt={class:"grid grid-cols-2 gap-2.5"},Ot=["value","onInput"],Ut=["value","onChange"],Kt=["value"],Vt=$({__name:"SkillsForm",setup(a){const l=A(),o=_(""),i=_(null);function u(){const n=o.value.trim();n&&(l.addSkill(n),o.value="",i.value?.focus())}function s(n,t,v){l.setLang(n,t,v.target.value)}return(n,t)=>(c(),m("div",null,[t[7]||(t[7]=e("h2",{class:"font-display font-bold text-lg tracking-tight mb-1"},"Ko'nikmalar & Tillar",-1)),t[8]||(t[8]=e("p",{class:"text-xs text-gray-400 mb-4"},"Texnik va qo'shimcha ko'nikmalar",-1)),e("div",jt,[t[2]||(t[2]=e("label",{class:"field-label"},"Ko'nikma qo'shing",-1)),e("div",Ft,[ge(e("input",{ref_key:"skillRef",ref:i,"onUpdate:modelValue":t[0]||(t[0]=v=>o.value=v),class:"input-base flex-1",type:"text",placeholder:"React, Python, Figma...",onKeydown:ye(u,["enter"])},null,544),[[he,o.value]]),e("button",{class:"bg-blue-brand text-white rounded-lg px-3.5 text-xl cursor-pointer transition-colors hover:bg-navy-800 flex-shrink-0 flex items-center border-0 h-auto",onClick:u},"+")]),e("div",Mt,[(c(!0),m(y,null,T(d(l).data.skills,(v,p)=>(c(),m("div",{key:v+p,class:"flex items-center gap-1 bg-blue-brand text-white px-3 py-1 rounded-md text-[12px] font-semibold hover:bg-navy-800 transition-colors"},[e("span",null,x(v),1),e("button",{class:"text-white/70 hover:text-white text-[14px] leading-none border-0 bg-transparent cursor-pointer",onClick:r=>d(l).rmSkill(p)},"Ã—",8,Lt)]))),128))])]),e("div",null,[t[6]||(t[6]=e("label",{class:"field-label mb-2"},"Tillar",-1)),f(K,{name:"block"},{default:z(()=>[(c(!0),m(y,null,T(d(l).data.languages,(v,p)=>(c(),m("div",{key:v.id,class:"data-block"},[e("div",Nt,[e("span",null,"Til #"+x(p+1),1),e("button",{class:"text-red-400 hover:text-red-500 text-[11.5px] font-semibold transition-colors",onClick:r=>d(l).rmLang(v.id)},"âœ•",8,Pt)]),e("div",Rt,[e("div",null,[t[3]||(t[3]=e("label",{class:"field-label"},"Til",-1)),e("input",{class:"input-base",type:"text",placeholder:"O'zbek, Ingliz...",value:v.name,onInput:r=>s(v.id,"name",r)},null,40,Ot)]),e("div",null,[t[4]||(t[4]=e("label",{class:"field-label"},"Daraja",-1)),e("select",{class:"input-base",value:v.level,onChange:r=>s(v.id,"level",r)},[(c(!0),m(y,null,T(d(Te),r=>(c(),m("option",{key:r,value:r},x(r),9,Kt))),128))],40,Ut)])])]))),128))]),_:1}),e("button",{class:"add-btn mt-0.5",onClick:t[1]||(t[1]=v=>d(l).addLang())},[f(H),t[5]||(t[5]=I(" Til qo'shish ",-1))])])]))}}),Ht=["src"],le=$({__name:"CvAvatar",props:{photo:{},initials:{},size:{},light:{type:Boolean}},setup(a){const l=a,o=w(()=>({width:l.size+"px",height:l.size+"px",borderRadius:"50%",background:l.light?"#E8F0FE":"rgba(255,255,255,.12)",border:l.light?"2px solid #E2E8F0":"2px solid rgba(255,255,255,.2)"})),i=w(()=>({fontSize:Math.round(l.size*.32)+"px",color:l.light?"#1A56DB":"rgba(255,255,255,.7)"}));return(u,s)=>(c(),m("div",{style:B(o.value),class:"shrink-0 overflow-hidden flex items-center justify-center"},[a.photo?(c(),m("img",{key:0,src:a.photo,class:"w-full h-full object-cover"},null,8,Ht)):(c(),m("span",{key:1,class:"font-display font-bold",style:B(i.value)},x(a.initials),5))],4))}}),k=$({__name:"CvContact",props:{value:{},light:{type:Boolean}},setup(a){return(l,o)=>a.value?(c(),m("span",{key:0,style:B({fontSize:"10.5px",color:a.light?"rgba(255,255,255,.6)":"#6B7A90"})},x(a.value),5)):C("",!0)}}),Gt={key:0,class:"cv-sec mb-3.5"},Wt={style:{"font-size":"11.5px",color:"#374151","line-height":"1.65","white-space":"pre-wrap"}},F=$({__name:"CvAbout",props:{bio:{}},setup(a){return(l,o)=>a.bio?(c(),m("div",Gt,[o[0]||(o[0]=e("div",{class:"cv-sec-title"},"Men haqimda",-1)),e("p",Wt,x(a.bio),1)])):C("",!0)}}),Jt={key:0,class:"cv-sec mb-3.5"},Yt={style:{"font-weight":"700","font-size":"12.5px"}},Xt={style:{display:"flex","justify-content":"space-between","font-size":"11px",color:"#6B7A90","margin-top":"2px","margin-bottom":"3px","flex-wrap":"wrap",gap:"3px"}},Qt={key:0,style:{"font-size":"11.5px",color:"#374151","line-height":"1.6","white-space":"pre-wrap"}},M=$({__name:"CvExp",props:{items:{}},setup(a){const l=a,o=w(()=>l.items.filter(s=>s.jobTitle||s.company));function i(s){return te(s)}function u(s){return s.isCurrent?"hozir":te(s.endDate)}return(s,n)=>o.value.length?(c(),m("div",Jt,[n[0]||(n[0]=e("div",{class:"cv-sec-title"},"Ish tajribasi",-1)),(c(!0),m(y,null,T(o.value,t=>(c(),m("div",{key:t.id,style:{"margin-bottom":"9px"}},[e("div",Yt,x(t.jobTitle),1),e("div",Xt,[e("span",null,x(t.company)+x(t.location?" Â· "+t.location:""),1),e("span",null,x(i(t.startDate))+x(i(t.startDate)&&u(t)?" â€“ ":"")+x(u(t)),1)]),t.description?(c(),m("p",Qt,x(t.description),1)):C("",!0)]))),128))])):C("",!0)}}),Zt={key:0,class:"cv-sec mb-3.5"},el={style:{"font-weight":"700","font-size":"12.5px"}},tl={style:{"font-size":"11px",color:"#6B7A90","margin-top":"1px"}},ll={key:0,style:{"font-size":"11px",color:"#374151","margin-top":"2px"}},L=$({__name:"CvEdu",props:{items:{}},setup(a){const l=a,o=w(()=>l.items.filter(i=>i.institution));return(i,u)=>o.value.length?(c(),m("div",Zt,[u[0]||(u[0]=e("div",{class:"cv-sec-title"},"Ta'lim",-1)),(c(!0),m(y,null,T(o.value,s=>(c(),m("div",{key:s.id,style:{"margin-bottom":"8px"}},[e("div",el,x(s.institution),1),e("div",tl,x(s.degree)+x(s.degree&&s.years?" Â· ":"")+x(s.years),1),s.notes?(c(),m("p",ll,x(s.notes),1)):C("",!0)]))),128))])):C("",!0)}}),il={key:0,class:"cv-sec mb-3.5"},sl={style:{display:"flex","flex-wrap":"wrap",gap:"4px"}},N=$({__name:"CvSkills",props:{skills:{}},setup(a){return(l,o)=>a.skills.length?(c(),m("div",il,[o[0]||(o[0]=e("div",{class:"cv-sec-title"},"Ko'nikmalar",-1)),e("div",sl,[(c(!0),m(y,null,T(a.skills,i=>(c(),m("span",{key:i,style:{display:"inline-block",background:"#E8F0FE",color:"#1A56DB","font-size":"10.5px","font-weight":"600",padding:"2px 9px","border-radius":"100px"}},x(i),1))),128))])])):C("",!0)}}),nl={key:0,class:"cv-sec mb-3.5"},al={style:{"font-weight":"600"}},ol={style:{color:"#6B7A90"}},P=$({__name:"CvLangs",props:{langs:{}},setup(a){const l=a,o=w(()=>l.langs.filter(i=>i.name));return(i,u)=>o.value.length?(c(),m("div",nl,[u[0]||(u[0]=e("div",{class:"cv-sec-title"},"Tillar",-1)),(c(!0),m(y,null,T(o.value,s=>(c(),m("div",{key:s.id,style:{display:"flex","justify-content":"space-between","font-size":"11.5px","margin-bottom":"4px"}},[e("span",al,x(s.name),1),e("span",ol,x(s.level),1)]))),128))])):C("",!0)}}),rl={class:"flex items-center gap-3.5 px-7 py-5",style:{background:"#0A2540",color:"#fff"}},dl={class:"min-w-0"},ul={class:"font-display font-bold text-[19px] mb-0.5 truncate"},pl={class:"text-[10px] uppercase tracking-[.07em] opacity-50"},cl={class:"flex gap-3 mt-1.5 flex-wrap"},vl={class:"flex",style:{"min-height":"calc(1123px - 102px)"}},ml={class:"w-[190px] shrink-0 p-4",style:{background:"#F7F9FC","border-right":"1px solid #E2E8F0"}},fl={class:"flex-1 p-5 min-w-0"},bl={class:"px-7 pt-5 pb-3.5",style:{"border-bottom":"2.5px solid #0A2540"}},xl={class:"font-display font-extrabold text-[22px] tracking-[-1px]"},gl={class:"text-[12px] font-semibold mt-0.5",style:{color:"#1A56DB"}},hl={class:"flex gap-4 mt-2 flex-wrap"},yl={class:"px-7 py-5"},kl={class:"px-7 py-6",style:{background:"#1A56DB",color:"#fff"}},_l={class:"font-display font-extrabold text-[22px] tracking-[-1px] mb-0.5"},$l={class:"text-[10px] uppercase tracking-[.07em] opacity-65 mb-2.5"},wl={class:"flex gap-3 flex-wrap"},Tl={class:"px-7 py-5"},Cl={class:"px-7 py-5 flex items-center gap-3.5",style:{"border-bottom":"1px solid #E2E8F0"}},El={class:"min-w-0"},Dl={class:"font-display font-bold text-[18px] tracking-[-0.5px] truncate"},Il={class:"text-[11px] font-medium mt-0.5",style:{color:"#1A56DB"}},zl={class:"flex gap-3 mt-1 flex-wrap"},Bl={class:"px-7 py-4"},Al=$({__name:"CvPreview",setup(a){const l=A(),{template:o,data:i,fullName:u}=ke(l),s=w(()=>i.value.personal),n=w(()=>{const E=s.value.dateOfBirth;return E?new Date(E+"T00:00:00").toLocaleDateString("uz-UZ",{day:"2-digit",month:"2-digit",year:"numeric"}):""}),t=_(null),v=_(null),p=_(1),r=w(()=>({width:"794px",minHeight:"1123px",transformOrigin:"top left",transform:`scale(${p.value})`,boxShadow:"0 4px 24px rgba(0,0,0,.15)"}));function b(){if(!t.value)return;const E=t.value.clientWidth;p.value=Math.min(1,E/794),O(()=>{v.value&&t.value&&(t.value.style.height=v.value.scrollHeight*p.value+"px")})}return ie(()=>{b();const E=new ResizeObserver(b);t.value&&E.observe(t.value)}),X(i,()=>O(b),{deep:!0}),X(o,()=>O(b)),(E,G)=>(c(),m("div",{ref_key:"wrapRef",ref:t,class:"w-full"},[e("div",{id:"cv-preview",ref_key:"cvRef",ref:v,class:"cv-paper bg-white",style:B(r.value)},[d(o)==="modern"?(c(),m(y,{key:0},[e("div",rl,[f(le,{photo:s.value.photoUrl,initials:d(l).initials,size:56},null,8,["photo","initials"]),e("div",dl,[e("div",ul,x(d(u)),1),e("div",pl,x(s.value.jobTitle||"Kasb / Lavozim"),1),e("div",cl,[f(k,{value:s.value.email,light:""},null,8,["value"]),f(k,{value:s.value.phone,light:""},null,8,["value"]),f(k,{value:s.value.city,light:""},null,8,["value"]),f(k,{value:n.value,light:""},null,8,["value"])])])]),e("div",vl,[e("div",ml,[f(N,{skills:d(i).skills},null,8,["skills"]),f(P,{langs:d(i).languages},null,8,["langs"]),f(L,{items:d(i).education},null,8,["items"])]),e("div",fl,[f(F,{bio:s.value.bio},null,8,["bio"]),f(M,{items:d(i).experience},null,8,["items"])])])],64)):d(o)==="clean"?(c(),m(y,{key:1},[e("div",bl,[e("div",xl,x(d(u)),1),e("div",gl,x(s.value.jobTitle),1),e("div",hl,[f(k,{value:s.value.email},null,8,["value"]),f(k,{value:s.value.phone},null,8,["value"]),f(k,{value:s.value.city},null,8,["value"]),f(k,{value:n.value},null,8,["value"])])]),e("div",yl,[f(F,{bio:s.value.bio},null,8,["bio"]),f(M,{items:d(i).experience},null,8,["items"]),f(N,{skills:d(i).skills},null,8,["skills"]),f(P,{langs:d(i).languages},null,8,["langs"]),f(L,{items:d(i).education},null,8,["items"])])],64)):d(o)==="bold"?(c(),m(y,{key:2},[e("div",kl,[e("div",_l,x(d(u)),1),e("div",$l,x(s.value.jobTitle),1),e("div",wl,[f(k,{value:s.value.email,light:""},null,8,["value"]),f(k,{value:s.value.phone,light:""},null,8,["value"]),f(k,{value:s.value.city,light:""},null,8,["value"]),f(k,{value:n.value,light:""},null,8,["value"])])]),e("div",Tl,[f(F,{bio:s.value.bio},null,8,["bio"]),f(M,{items:d(i).experience},null,8,["items"]),f(N,{skills:d(i).skills},null,8,["skills"]),f(P,{langs:d(i).languages},null,8,["langs"]),f(L,{items:d(i).education},null,8,["items"])])],64)):(c(),m(y,{key:3},[e("div",Cl,[f(le,{photo:s.value.photoUrl,initials:d(l).initials,size:48,light:""},null,8,["photo","initials"]),e("div",El,[e("div",Dl,x(d(u)),1),e("div",Il,x(s.value.jobTitle),1),e("div",zl,[f(k,{value:s.value.email},null,8,["value"]),f(k,{value:s.value.phone},null,8,["value"]),f(k,{value:s.value.city},null,8,["value"]),f(k,{value:n.value},null,8,["value"])])])]),e("div",Bl,[f(F,{bio:s.value.bio},null,8,["bio"]),f(M,{items:d(i).experience},null,8,["items"]),f(N,{skills:d(i).skills},null,8,["skills"]),f(P,{langs:d(i).languages},null,8,["langs"]),f(L,{items:d(i).education},null,8,["items"])])],64))],4)],512))}}),Sl={class:"min-h-screen bg-gray-50",style:{"padding-top":"56px"}},ql={class:"fixed top-0 inset-x-0 z-[300] h-14 flex items-center justify-between px-6 bg-white/72 backdrop-blur-[28px] border-b border-white/40 shadow-[0_1px_0_rgba(0,0,0,.06)]"},jl={class:"flex-1 mx-4 min-w-0"},Fl={class:"flex overflow-hidden",style:{height:"calc(100vh - 56px)"}},Ml={class:"flex-1 overflow-y-auto px-7 py-6"},Ll={class:"flex justify-between items-center px-7 py-3 border-t border-gray-100 bg-white shrink-0"},Nl=["disabled"],Pl={class:"flex-1 overflow-y-auto bg-[#e8edf2] p-2 flex flex-col items-center min-w-0"},Rl={class:"mt-3 pb-3"},Ol=["disabled"],Ul=$({__name:"BuilderView",setup(a){const l=A(),o=U(),i=Ie(),u=ze();l.data.experience.length===0&&l.addExp(),l.data.education.length===0&&l.addEdu(),l.data.languages.length===0&&l.addLang();const s=u.width;function n(){if(l.next())l.step<5&&o.success("Saqlandi âœ“");else{const p=l.stepErrors;p.length&&o.error(p[0].message)}}function t(){const p=(l.fullName||"cv").toLowerCase().replace(/\s+/g,"_")+".pdf";i.exportPdf("cv-preview",p)}return(v,p)=>{const r=$e("router-link");return c(),m("div",Sl,[e("nav",ql,[f(r,{to:"/",class:"flex items-center gap-1.5 text-gray-400 hover:text-navy-800 text-[13px] font-medium transition-colors no-underline shrink-0"},{default:z(()=>[...p[2]||(p[2]=[e("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M19 12H5M12 19l-7-7 7-7"})],-1),I(" Orqaga ",-1)])]),_:1}),e("div",jl,[f(je,{current:d(l).step,maxReached:d(l).maxStep,onGoto:d(l).goTo},null,8,["current","maxReached","onGoto"])]),f(r,{to:"/",class:"no-underline shrink-0"},{default:z(()=>[f(we,{size:"sm"})]),_:1})]),e("div",Fl,[e("div",{class:"bg-white border-r border-gray-200 flex flex-col overflow-hidden shrink-0",style:B({width:d(s)+"px",minWidth:"300px",maxWidth:"660px"})},[e("div",Ml,[f(_e,{name:"slide",mode:"out-in"},{default:z(()=>[d(l).step===1?(c(),j(Re,{key:1,selected:d(l).template,"onUpdate:selected":d(l).setTemplate},null,8,["selected","onUpdate:selected"])):d(l).step===2?(c(),j(rt,{key:2})):d(l).step===3?(c(),j(Tt,{key:3})):d(l).step===4?(c(),j(qt,{key:4})):(c(),j(Vt,{key:5}))]),_:1})]),e("div",Ll,[e("button",{class:"btn-ghost text-[12.5px] !py-2",style:B({visibility:d(l).step===1?"hidden":"visible"}),onClick:p[0]||(p[0]=b=>d(l).prev())},"â† Orqaga",4),d(l).step===5?(c(),m("button",{key:0,class:"btn-primary text-[12.5px] !py-2 !px-5",disabled:d(i).exporting.value,onClick:t},[p[3]||(p[3]=e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)),I(" "+x(d(i).exporting.value?"Tayyorlanmoqda...":"PDF yuklab olish"),1)],8,Nl)):(c(),m("button",{key:1,class:"btn-primary text-[12.5px] !py-2 !px-5",onClick:n}," Keyingisi â†’ "))])],4),e("div",{class:R(["w-1.5 cursor-col-resize relative shrink-0 transition-colors hover:bg-blue-brand/40 group",{"bg-blue-brand/60":d(u).dragging.value}]),onMousedown:p[1]||(p[1]=(...b)=>d(u).onDown&&d(u).onDown(...b))},[...p[4]||(p[4]=[e("div",{class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-0.5 h-7 bg-gray-200 rounded-full group-hover:bg-blue-brand/60 transition-colors"},null,-1)])],34),e("div",Pl,[p[6]||(p[6]=e("div",{class:"self-start mb-1.5 flex items-center gap-1.5 text-[10px] font-bold tracking-[.1em] uppercase text-gray-400 pl-0.5"},[e("span",{class:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-blink"}),I(" Jonli ko'rinish ")],-1)),f(Al),e("div",Rl,[e("button",{class:"btn-primary text-[12.5px] !py-2 !px-5",disabled:d(i).exporting.value,onClick:t},[p[5]||(p[5]=e("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2.5"},[e("path",{d:"M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3"})],-1)),I(" "+x(d(i).exporting.value?"Tayyorlanmoqda...":"PDF yuklab olish"),1)],8,Ol)])])])])}}}),Hl=se(Ul,[["__scopeId","data-v-0cb69495"]]);export{Hl as default};
//# sourceMappingURL=BuilderView-u5xLjHJP.js.map
